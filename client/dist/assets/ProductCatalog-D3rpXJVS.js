import{r as d,u as x,a as h,j as e,y as f}from"./index-B3VJiH7s.js";import{c as g}from"./confetti.module-BxKCmZ95.js";import{I as b}from"./indian-rupee-D2dQ4r_3.js";function p({p:t,inCart:s,added:a,handleAdd:i,inc:l,dec:o}){const n=Number(t.price)||0;return e.jsxs("div",{className:"fade-in-up bg-white rounded-xl shadow-lg p-4 transition hover:shadow-2xl",children:[e.jsx("img",{src:t.photo_url,alt:t.name,loading:"lazy",className:"h-48 w-full object-cover rounded-lg mb-3"}),e.jsx("h3",{className:"font-bold text-lg mb-1",children:t.name}),e.jsxs("p",{className:"text-base text-gray-700 mb-3 flex items-center",children:[e.jsx(b,{className:"inline w-5 h-5 mr-1"}),n.toFixed(2)]}),s?e.jsxs("div",{className:"flex items-center justify-between w-full h-10",children:[e.jsx("button",{onClick:()=>o(t.id),className:"w-1/3 h-full rounded-l bg-primary-200 hover:bg-primary-300 transition-all duration-200 text-primary-900 font-bold text-xl",children:"â€“"}),e.jsx("div",{className:"w-1/3 h-full flex items-center justify-center bg-primary-100 text-primary-900 font-semibold text-lg",children:s.qty}),e.jsx("button",{onClick:()=>l(t.id),className:"w-1/3 h-full rounded-r bg-primary-200 hover:bg-primary-300 transition-all duration-200 text-primary-900 font-bold text-xl",children:"+"})]}):e.jsx("button",{onClick:()=>i(t),className:`w-full h-10 rounded-lg py-2 font-semibold text-white transform transition-all duration-300 ease-in-out
            ${a[t.id]?"bg-green-500 animate-scalePulse":"bg-primary-500 hover:bg-primary-600"}`,style:{minHeight:"2.5rem"},children:a[t.id]?"Added!":"Add to Cart"})]})}const y=d.memo(p);function v(){const[t,s]=d.useState([]),[a,i]=d.useState({}),{cart:l,add:o,inc:n,dec:m}=x();d.useEffect(()=>{h.get("/products").then(r=>s(r.data))},[]);const u=r=>{o(r),i(c=>({...c,[r.id]:!0})),f.success(`${r.name} added to cart!`),g({particleCount:60,spread:70,origin:{y:.6}}),setTimeout(()=>{i(c=>({...c,[r.id]:!1}))},800)};return e.jsx("div",{className:"max-w-6xl mx-auto p-4",children:e.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(r=>e.jsx(y,{p:r,inCart:l[r.id],added:a,handleAdd:u,inc:n,dec:m},r.id))})})}export{v as default};

import{d as b,r as i,u as g,a as y,j as t,y as j}from"./index-B3VJiH7s.js";import{c as p}from"./confetti.module-BxKCmZ95.js";import{I as N}from"./indian-rupee-D2dQ4r_3.js";function A(){const{category:r,subcat:a}=b(),[n,o]=i.useState([]),[l,d]=i.useState({}),{cart:c,add:m,inc:u,dec:x}=g();i.useEffect(()=>{y.get("/products").then(e=>o(e.data.filter(s=>s.category===r&&(a==="All"||s.subcategory===a))))},[r,a]);const h=e=>{m(e),d(s=>({...s,[e.id]:!0})),j.success(`${e.name} added to cart!`),p({particleCount:60,spread:70,origin:{y:.6}}),setTimeout(()=>{d(s=>({...s,[e.id]:!1}))},800)};return t.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[t.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:[r," > ",a]}),t.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-6",children:n.map(e=>{const s=c[e.id],f=Number(e.price)||0;return t.jsxs("div",{className:"fade-in-up bg-white rounded-xl shadow-md p-4 hover:shadow-xl transition",children:[t.jsx("img",{src:e.photo_url,alt:e.name,className:"h-40 w-full object-cover rounded mb-2"}),t.jsx("h3",{className:"font-bold text-lg",children:e.name}),t.jsxs("p",{className:"flex items-center mt-1 mb-3 text-gray-700",children:[t.jsx(N,{className:"inline w-4 h-4 mr-1"}),f.toFixed(2)]}),s?t.jsxs("div",{className:"flex items-center justify-between w-full h-10",children:[t.jsx("button",{onClick:()=>x(e.id),className:"w-1/3 h-full rounded-l bg-primary-200 hover:bg-primary-300 transition-all duration-200 text-primary-900 font-bold text-xl",children:"â€“"}),t.jsx("div",{className:"w-1/3 h-full flex items-center justify-center bg-primary-100 text-primary-900 font-semibold text-lg",children:s.qty}),t.jsx("button",{onClick:()=>u(e.id),className:"w-1/3 h-full rounded-r bg-primary-200 hover:bg-primary-300 transition-all duration-200 text-primary-900 font-bold text-xl",children:"+"})]}):t.jsx("button",{onClick:()=>h(e),className:`w-full h-10 rounded-lg py-2 font-semibold text-white transform transition-all duration-300 ease-in-out
            ${l[e.id]?"bg-green-500 animate-scalePulse":"bg-primary-500 hover:bg-primary-600"}`,style:{minHeight:"2.5rem"},children:l[e.id]?"Added!":"Add to Cart"})]},e.id)})})]})}export{A as default};

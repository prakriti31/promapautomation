import{d as b,r as d,u as f,a as j,j as s}from"./index-BBaSUWdf.js";import{I as y}from"./indian-rupee-DtlEbZIp.js";function v(){const{category:r,subcat:a}=b(),[n,o]=d.useState([]),[i,l]=d.useState({}),{cart:c,add:m,inc:u,dec:x}=f();d.useEffect(()=>{j.get("/products").then(e=>o(e.data.filter(t=>t.category===r&&(a==="All"||t.subcategory===a))))},[r,a]);const g=e=>{m(e),l(t=>({...t,[e.id]:!0})),setTimeout(()=>l(t=>({...t,[e.id]:!1})),800)};return s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[s.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:[r," > ",a]}),s.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-6",children:n.map(e=>{const t=c[e.id],h=Number(e.price)||0;return s.jsxs("div",{className:"fade-in-up bg-white rounded-xl shadow-md p-4 hover:shadow-xl transition",children:[s.jsx("img",{src:e.photo_url,alt:e.name,loading:"lazy",className:"h-40 w-full object-cover rounded mb-2"}),s.jsx("h3",{className:"font-bold text-lg",children:e.name}),s.jsxs("p",{className:"flex items-center mt-1 mb-3 text-gray-700",children:[s.jsx(y,{className:"inline w-4 h-4 mr-1"}),h.toFixed(2)]}),t?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>x(e.id),className:"bg-gray-200 hover:bg-gray-300 rounded-full p-2",children:"â€“"}),s.jsx("span",{children:t.qty}),s.jsx("button",{onClick:()=>u(e.id),className:"bg-gray-200 hover:bg-gray-300 rounded-full p-2",children:"+"})]}):s.jsx("button",{onClick:()=>g(e),className:`w-full rounded py-2 text-white font-semibold transition ${i[e.id]?"bg-green-500 btn-pulse":"bg-primary-500 hover:bg-primary-600"}`,children:i[e.id]?"Added!":"Add to Cart"})]},e.id)})})]})}export{v as default};
